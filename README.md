# Code-Review-Analytics

## ğŸ“Œ About

Code-Review-Analytics is a tool designed to analyze code reviews. It tracks key performance indicators (KPIs) such as review depth, review delays, reviewer participation, and compares human code reviews with feedback generated by a Large Language Model (LLM). This helps improve review consistency, code quality, and team collaboration.

## ğŸš€ Features

- Automated code review analysis
- KPI tracking for review depth and delays
- Reviewer participation metrics
- LLM integration for review comparison
- Visualization of review patterns
- Detailed analytics reports

## âš™ï¸ Installation

1. Clone the repository:
   ```bash
   git clone https://github.com/eshabalaji/Code-Review-Analytics.git
   cd Code-Review-Analytics
   ```

2. Install required dependencies:
   ```bash
   pip install -r requirements.txt
   ```

## ğŸ”‘ Configuration

Before using the tool, ensure you have:
1. A GitHub Personal Access Token with appropriate permissions
2. Access to the repository you want to analyze
3. Python 3.7 or higher installed

---
## File Structure
```txt
â”œâ”€â”€ README.md
â”œâ”€â”€ requirements.txt                  âœ… Global requirements
â””â”€â”€ .github
    â”œâ”€â”€ workflows
    â”‚   â””â”€â”€ run-analytics.yml         âœ… Workflow file
    â””â”€â”€ actions
        â””â”€â”€ action
            â”œâ”€â”€ action.yml           âœ… Composite Action
            â”œâ”€â”€ main.py              âœ… Main execution script
            â”œâ”€â”€ github_api.py        âœ… Data fetching functions
            â””â”€â”€visualizations.py     âœ… Plotting functions
             
```
---

## ğŸ”§ How It Works

- The `run-analytics.yml` workflow is triggered manually (workflow_dispatch) or after code is pushed (if configured).

- It sets up Python, installs dependencies from requirements.txt, and then runs the custom action.
- The action defined in `.github/actions/action/action.yml` runs `main.py` to:
  * **Data Collection** (`github_api.py`):
    * Fetch repository metadata (creation & last update date, stars, forks)
    * Fetch commit history and group by date/author
    * Fetch contributor statistics and participation levels
    * Fetch detailed Pull Request data (reviews, comments, merge times, interactions)
    * Fetch Issue details (open vs closed counts, resolution activity, closers)
  * **Analysis & Visualization** (`visualizations.py`):
    * Generate commit activity charts (daily trends, author contributions)
    * Create PR analytics (timeline, merge time distribution, review patterns)
    * Build collaboration heatmaps (who reviews whom)
    * Plot issue resolution metrics and contributor activity
  * **Data Export**:
    * Save 7 detailed CSV files for further analysis
    * Export comprehensive review and comment datasets
    * Generate combined reports for easy data consumption
---

## ğŸ“ Usage

### Step 1: Set Up Environment Variables

You must set the following as GitHub Secrets for authentication:

`GITHUB_TOKEN` â†’ Your GitHub Personal Access Token

`OWNER` â†’ Repository owner

`REPO` â†’ Repository name

### Step 2: Trigger the Workflow

Navigate to the **Actions** tab in your GitHub repo, and manually trigger the `Run Code Review Analytics` workflow.

You can also run it locally:
```
export GITHUB_TOKEN="your_token"
export OWNER="repository_owner"
export REPO="repository_name"
python main.py
```

### Step 3: View Results

- Once the workflow completes, check:
  - The workflow logs for tabular statistics
  - The generated plots directly in your terminal or saved files
  - GitHub Actions artifacts for downloaded results

---

## ğŸ Python Dependencies

Add your Python libraries in `requirements.txt`:

```txt
requests
matplotlib
pandas
seaborn
```

---

## ğŸ“Š Output Format

Depending on your `visualisation.py` implementation, the analytics output may include:

- ğŸ“Œ **Pull Request Statistics**
  - Total PRs (open, closed, merged)
  - PRs per day
  - Contributors to each PR
  - Time to merge

- ğŸ‘¥ **Contributor Activity**
  - Most active contributors
  - Frequency of contributions
  - Average review time per user

- ğŸ› **Issue Metrics**
  - Open vs closed issues (counts & charts)
  - Assignees who fixed issues
  - Issue closure trends over time

- â±ï¸ **Review Metrics**
  - Review response times
  - Number of review comments per PR
  - PRs with no reviews

- ğŸ“ˆ **Visualizations**
  - Bar chart â†’ Contributions per contributor
  - Line chart â†’ Contributions per day
  - Line chart â†’ PRs per day
  - Bar chart â†’ Open vs closed issues (count-based)
  - Contributor table â†’ Who fixed which issues
  - Additional repository metadata (created date, last updated date)
    
- âœ… **CSV Files**
  
  `contributors.csv`
   - List of all contributors to the repository.
   - Includes contributor login, number of contributions, and other metadata.
   - 
  `pull_requests.csv`
   - Details of all Pull Requests.
   - Contains PR number, title, author, creation/merge dates, state, and commit SHAs.
   - 
  `issues.csv`
  - Repository issues with metadata.
  - Includes issue ID, title, state, created/closed dates, and closer (if resolved).

  `review_events.csv`
   - Pull request review events.
   - Contains reviewer, review state (approved, changes requested, etc.), and timestamps.

  `review_comments.csv`
   - Code review comments on PRs.
   - Includes reviewer, file path, line number, and comment text.

  `issue_comments.csv`
   - Comments made on issues.
   - Contains commenter, comment text, and timestamps.

  `all_comments.csv`
   - Consolidated file with all comments (reviews + issue comments).
